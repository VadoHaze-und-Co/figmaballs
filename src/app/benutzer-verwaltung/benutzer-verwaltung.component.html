<div class="grid-container">
    <div class="grid-item" style="grid-row: span 2;">
      <img id="image-file" (click)="triggerClick()" src="assets/2606572_5907.svg" for="input-file" class="profilPlaceholder" alt="Profilbild" style="cursor: pointer; width: 10rem; height: 10rem; border-radius: 50%; margin: 0 auto; display: block; margin-top: 20px; margin-bottom: 20px;color: rgba(80,80,0,80)">
      <input #inputFile type="file" (change)="handleFileInput($event.target)" accept="svgimage/jpeg, image/jpg, image/png, image/svg+xml" id="input-file" style="display: none">
      <button class="saveBtn" style="margin: 0 auto; display: block;" (click)="saveUser()">
        <img src="assets/floppy-disk.png"  alt="Button Image" style="height: 100%; width: 100%"> <!--(click)="saveUser()"-->
      </button>

    </div>
    <div class="grid-item">
        <label class="label" for="benutzername">Benutzername</label>
        <input type="text" [(ngModel)]="user.userName" id="benutzername" class="input-field"></div>
    <div class="grid-item">
        <label class="label" for="vorname">Vorname</label>
        <input type="text" [(ngModel)]="user.firstName" id="vorname" class="input-field"></div>
    <div class="grid-item">
        <label class="label" for="nachname">Nachname</label>
        <input type="text" [(ngModel)]="user.lastName" id="nachname" class="input-field"></div>
    <div class="grid-item">
        <label class="label" for="anschrift">Anschrift</label>
        <input type="text" [(ngModel)]="user.address" id="anschrift" class="input-field"></div>
    <div class="grid-item">
        <label class="label" for="stadt">Stadt</label>
        <input type="text" [(ngModel)]="user.city" id="stadt" class="input-field"></div>
    <div class="grid-item">
        <label class="label" for="plz">Postleitzahl</label>
        <input type="text" [(ngModel)]="user.postcode" id="plz" class="input-field"></div>
    <div class="grid-item"></div>
    <div class="grid-item">
        <label class="label" for="email">Kontakt E-mail</label>
        <input type="text" [(ngModel)]="user.emailAddress" id="email" class="input-field"></div>
    <div class="grid-item">
        <label class="label" for="qualifikationen">Qualifikationen</label>
      <div class="row">
        <div class="col">
          <div ngbDropdown class="d-inline-block" id="qualifikationen">
            <button class="dropbtn" id="dropdownQuali" ngbDropdownToggle>Qualifikationen</button>
            <ul ngbDropdownMenu aria-labelledby="dropdownQuali">
              <li *ngFor="let category of categorys" style="margin-left: 5%">
                <input type="checkbox" id="{{category.id}}" name="{{category.name}}" value="{{category.name}}"
                       [checked]="category.id !== undefined && user.qualifikation?.includes(category.id)"
                       (change)="category.id !== undefined && onCheckboxChange($event, category.id)">
                <label for="{{category.name}}" style="color: rgb(176, 176, 176)">{{category.name}}</label>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>      <!--<div class="dropdown" id="qualifikationen">
        <button class="dropbtn">Qualifikationen</button>
        <div class="dropdown-content drop">
          <ul class="dropdown-menu">
            <li *ngFor="let qualifikation of qualifikationen">
              <input type="checkbox" id="{{qualifikation}}" name="{{qualifikation}}" value="{{qualifikation}}">
              <label for="{{qualifikation}}">{{qualifikation}}</label>
            </li>
          </ul>
        </div>
      </div>
    </div>-->
    <div class="grid-item">
      <label class="label" for="isAdmin">Ist ein Admin?</label>
      <div id="isAdmin">
        <input [ngModel]="user.admin" name="admin" type="checkbox" id="adminCheckbox">
        <label for="adminCheckbox" style="position: relative"></label>
      </div>
    </div>
  </div>
  <table class="tabelle">
    <thead>
        <tr>
            <th>Vorname</th>
            <th>Nachname</th>
            <th>Anschrift</th>
            <th>Stadt</th>
            <th>Postleitzahl</th>
            <th>Kontakt E-mail</th>
            <th>Qualifikationen</th>
            <th>Ist ein Admin?</th>
            <th>Löschen?</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of dataService.users" (click)="selectUser(user)">
            <td class="zelle">{{user.firstName}}</td>
            <td class="zelle">{{user.lastName}}</td>
            <td class="zelle">{{user.address}}</td>
            <td class="zelle">{{user.city}}</td>
            <td class="zelle">{{user.postcode}}</td>
            <td class="zelle">{{user.emailAddress}}</td>
            <td class="zelle">{{getQualificationNames(user)}}</td>
            <td class="zelle">{{user.admin ? 'Ja' : 'Nein'}}</td>
            <td class="zelle"><button (click)="deleteUser(user)" class="deleteBtn">Löschen</button></td>
        </tr>
    </tbody>
</table>
